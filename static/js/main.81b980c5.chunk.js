(this.webpackJsonpreels=this.webpackJsonpreels||[]).push([[0],{115:function(e,t,n){},116:function(e,t,n){},129:function(e,t,n){},132:function(e,t,n){},136:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(18),s=n.n(i),a=(n(115),n(53)),o=(n.p,n(116),n(13)),l=n.n(o),d=n(22),u=n(11),j={apiKey:"AIzaSyABUYeOs8FeZD-6RPcF3l7jxpzSLY5O_Yg",authDomain:"instareels-1c271.firebaseapp.com",projectId:"instareels-1c271",storageBucket:"instareels-1c271.appspot.com",messagingSenderId:"1019354041696",appId:"1:1019354041696:web:8673a7db52c1f758f92205"},h=n(46);n(122),n(123),n(124);h.a.initializeApp(j);var b=h.a.firestore(),x=h.a.storage(),g={users:b.collection("users"),reels:b.collection("reels"),createdAt:b.FieldValue},f=h.a,O=n(3),p=c.a.createContext(),m=h.a.auth();function v(e){var t=e.children,n=Object(r.useState)(null),c=Object(u.a)(n,2),i=c[0],s=c[1],a=Object(r.useState)(!0),o=Object(u.a)(a,2),j=o[0],h=o[1];function b(){return(b=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.signInWithEmailAndPassword(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.createUserWithEmailAndPassword(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){console.log("useeffect ran"),m.onAuthStateChanged((function(e){console.log("line 18",e),s(e),h(!1)}))}),[]);var g={genericLogin:function(e,t){return b.apply(this,arguments)},genericSignUp:function(e,t){return x.apply(this,arguments)},currentUser:i};return Object(O.jsx)(p.Provider,{value:g,children:!j&&t})}var y=n.p+"static/media/instaLoad.54769301.png",w="data:image/png;base64,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",A=n(8),N=n(179),C=n(95),k=n(177),S=n(178),U=n(72),B=Object(A.a)({root:{boxShadow:"none",textTransform:"none",fontSize:16,padding:"6px 12px",border:"1px solid",lineHeight:1.5,backgroundColor:"#0063cc",borderColor:"#0063cc",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{backgroundColor:"#0069d9",borderColor:"#0062cc",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"#0062cc",borderColor:"#005cbf"},"&:focus":{boxShadow:"0 0 0 0.2rem rgba(0,123,255,.5)"}}})(k.a),F=(Object(A.a)((function(e){return{root:{color:e.palette.getContrastText(S.a[500]),backgroundColor:S.a[500],"&:hover":{backgroundColor:S.a[700]}}}}))(k.a),Object(N.a)((function(e){return{margin:{margin:e.spacing(1)}}})));Object(C.a)({palette:{primary:U.a}});function I(e){var t=e.text,n=F();return Object(O.jsx)("div",{children:Object(O.jsx)(B,{style:{color:"white",height:"1.9rem",width:"14rem"},variant:"contained",color:"primary",disableRipple:!0,className:n.margin,children:t})})}var E=n(28);n(129),n.p,n.p,n.p,n.p,n.p,n.p,n.p,n(130),f.auth();var T=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(""),a=Object(u.a)(s,2),o=a[0],j=a[1],h=Object(r.useState)(!1),b=Object(u.a)(h,2),x=b[0],g=b[1],f=Object(r.useState)(!1),m=Object(u.a)(f,2),v=m[0],A=m[1],N=Object(r.useContext)(p),C=N.genericLogin,k=N.currentUser,S=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ran"),e.prev=1,A(!0),e.next=5,C(c,o);case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),A(!1),g(e.t0.message),setTimeout((function(){g(!1)}),2e3);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){k&&e.history.push("/feed")})),v?Object(O.jsx)("div",{style:{height:"100vh",width:"100%",background:"gray"},children:Object(O.jsx)("img",{style:{height:"9rem",width:"9rem",color:"black",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},src:y})}):k?Object(O.jsxs)("h1",{children:[k.uid,Object(O.jsx)("button",{children:"Logout"})]}):Object(O.jsx)("div",{style:{height:"100vh",backgroundColor:"#FAFAFA"},children:Object(O.jsxs)("div",{className:"login-box",style:{height:"62vh",width:"22rem",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",border:"0.5px solid lightgray",position:"fixed",right:"20rem",top:"5rem"},children:[Object(O.jsx)("div",{style:{marginBottom:"1.7rem"},children:Object(O.jsx)("img",{src:w})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{style:{height:"1.6rem",width:"14rem",backgroundColor:"#FAFAFA",border:"0.5px solid lightgray",marginBottom:"0.5rem"},type:"email",placeholder:"Enter Email",value:c,onChange:function(e){i(e.target.value)}})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{style:{height:"1.6rem",marginBottom:"1em",width:"14rem",backgroundColor:"#FAFAFA",border:"0.5px solid lightgray"},type:"password",placeholder:"Enter Password",value:o,onChange:function(e){j(e.target.value)}})}),Object(O.jsx)("div",{onClick:S,children:Object(O.jsx)(I,{text:"login"})}),Object(O.jsx)("div",{style:{fontSize:"12px",marginTop:"2rem"},children:"Forgot password?"}),Object(O.jsxs)("div",{style:{marginTop:"2rem"},children:["Dont have an account?",Object(O.jsx)(E.b,{to:"/signin",style:{textDecoration:"none"},children:Object(O.jsx)("span",{style:{color:"#0095F6"},children:"Sign Up"})})]}),x?Object(O.jsx)("h1",{children:x}):Object(O.jsx)(O.Fragment,{})]})})},Q=n(32);n(132);var D=function(e){var t=e.user;return Object(O.jsxs)("div",{className:"mainheader",style:{height:"7vh",border:"1px solid lightgray",display:"flex",flexDirection:"row",alignItems:"center",position:"relative",fontFamily:"cursive",zIndex:12,backgroundColor:"white"},children:[Object(O.jsx)(E.b,{className:"instalogo",to:"/feed",children:Object(O.jsx)("img",{style:{height:"100%",background:"transparent",objectFit:"contain"},src:w})}),Object(O.jsxs)("div",{className:"secondaryHeader",children:[Object(O.jsxs)(E.b,{to:"/profile",style:{display:"flex",alignItems:"center",textDecoration:"none",color:"black"},children:[Object(O.jsx)("div",{style:{marginRight:"10px"},children:null===t||void 0===t?void 0:t.fullName}),Object(O.jsx)("img",{style:{height:"40px",borderRadius:"55%",marginRight:"15px"},src:null===t||void 0===t?void 0:t.profileUrl})]}),Object(O.jsx)("div",{onClick:function(e){f.auth().signOut()},className:"logout",children:"Log out"})]})]})},R=n(91),P=n.n(R),z=(n(180),n(181),n(185),n(183),n(182),n(184));Object(N.a)({root:{maxWidth:345},media:{height:140}});n(133);var q=n(191),J=n(186);n(136);var L=function(){var e=Object(r.useContext)(p).currentUser,t=Object(r.useState)(null),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(!0),a=Object(u.a)(s,2),o=a[0],j=a[1],h=Object(r.useState)(),b=Object(u.a)(h,2),x=b[0],f=b[1],m=Object(r.useState)(null),v=Object(u.a)(m,2),w=v[0],A=v[1],N=Object(r.useState)(0),C=Object(u.a)(N,2),k=C[0],S=C[1],U=Object(r.useState)(0),B=Object(u.a)(U,2),F=B[0],I=B[1],E=Object(r.useState)(!1),T=Object(u.a)(E,2),Q=(T[0],T[1],Object(r.useState)(null)),R=Object(u.a)(Q,2),z=R[0],L=R[1];Object(r.useEffect)(Object(d.a)(l.a.mark((function t(){var n,r,c,s,a,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.users.doc(e.uid).get();case 2:return n=t.sent,console.log(e.uid),t.next=6,i(n.data());case 6:return S(n.data().followers),I(n.data().following),t.next=10,A(n.data().profileUrl);case 10:r=n.data().reels,c=[],console.log(r),s=0;case 14:if(!(s<r.length)){t.next=23;break}return t.next=17,g.reels.doc(r[s]).get();case 17:a=t.sent,o={id:r[s],link:a.data().videoUrl},c.push(o);case 20:s++,t.next=14;break;case 23:return t.next=25,f(c);case 25:j(!1);case 26:case"end":return t.stop()}}),t)}))),[]);var V=function(){L(null)};return o?Object(O.jsx)("div",{style:{height:"100vh",width:"100%",background:"gray"},children:Object(O.jsx)("img",{style:{height:"9rem",width:"9rem",color:"black",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},src:y})}):Object(O.jsxs)("div",{children:[Object(O.jsx)(D,{user:c}),Object(O.jsxs)("div",{style:{backgroundColor:"#FAFAFA",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(O.jsxs)("div",{className:"header",style:{display:"flex",backgroundColor:"#FAFAFA",width:"55%",height:"14rem",alignItems:"stretch"},children:[Object(O.jsx)("div",{className:"profile-pic",children:Object(O.jsx)("img",{style:{height:"70%",borderRadius:"50%",marginTop:"15%"},src:w})}),Object(O.jsxs)("div",{style:{height:"60%",width:"18rem",marginTop:"2rem",marginLeft:"19%",display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(O.jsx)("div",{style:{fontSize:"24px",fontFamily:"Arial",fontWeight:"200"},children:c.fullName}),Object(O.jsx)("div",{})]}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{style:{fontWeight:"600"},children:x.length})," posts"]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{style:{fontWeight:"600"},children:k.length})," followers"]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{style:{fontWeight:"600"},children:F.length})," following"]})]}),Object(O.jsx)("div",{style:{fontWeight:"600",fontSize:"16px"},children:c.email})]})]}),Object(O.jsx)("hr",{style:{border:"0.3px solid lightgray",width:"72%"}}),Object(O.jsx)("div",{style:{width:"72%",dislpay:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",margin:"9px"},children:Object(O.jsxs)("div",{style:{display:"flex",width:"20%",justifyContent:"center",alignItems:"center"},children:[Object(O.jsx)(P.a,{}),Object(O.jsx)("span",{style:{marginLeft:"7px",fontSize:"12px",letterSpacing:"1px",fontWeight:"500"},children:Object(O.jsx)("u",{children:"REELS"})})]})}),Object(O.jsx)("div",{className:"mainContainer",children:x.map((function(e){return Object(O.jsxs)("div",{onClick:function(){return t=e.id,console.log(t),void L(t);var t},className:"reel-container",children:[Object(O.jsx)("video",{className:"reel",style:{height:"100%",width:"100%"},src:e.link}),Object(O.jsx)(q.a,{maxWidth:"md",onClose:V,"aria-labelledby":"customized-dialog-title",open:z===e.id,children:Object(O.jsx)(J.a,{children:Object(O.jsx)("div",{className:"modall",style:{display:"flex",justifyContent:"center",width:"100%",height:"100%"},children:Object(O.jsx)("div",{className:!0,style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(O.jsx)("video",{controls:!0,src:e.link,style:{width:"110%",height:"80vh"}})})})})})]})}))})]})]})};var V=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(""),a=Object(u.a)(s,2),o=a[0],j=a[1],h=Object(r.useState)(!1),b=Object(u.a)(h,2),f=(b[0],b[1]),m=Object(r.useState)(!0),v=Object(u.a)(m,2),A=v[0],N=v[1],C=Object(r.useState)(""),k=Object(u.a)(C,2),S=k[0],U=k[1],B=Object(r.useState)(null),F=Object(u.a)(B,2),T=F[0],Q=F[1],D=Object(r.useContext)(p),R=D.genericSignUp,P=D.currentUser,z=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,i,s,a,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t)},r=function(e){console.log(e)},i=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.snapshot.ref.getDownloadURL();case 2:t=e.sent,g.users.doc(a).set({email:c,fullName:S,profileUrl:t,followers:[],following:[],reels:[],likes:[],comments:[]});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f(""),N(!0),e.next=8,R(c,o);case 8:s=e.sent,a=s.user.uid,console.log("--------",a),(u=x.ref("/users/"+a).put(T)).on("state_changed",n,r,i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){P&&e.history.push("/feed")})),Object(r.useEffect)((function(){N(!1)}),[]),A?Object(O.jsx)("div",{style:{height:"100vh",width:"100%",background:"gray"},children:Object(O.jsx)("img",{style:{height:"9rem",width:"9rem",color:"black",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},src:y})}):Object(O.jsx)("div",{style:{height:"100vh",backgroundColor:"#FAFAFA"},children:Object(O.jsxs)("div",{className:"signUp-box",style:{height:"68vh",width:"22rem",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",border:"0.5px solid lightgray",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[Object(O.jsx)("div",{style:{marginBottom:"1.7rem"},children:Object(O.jsx)("img",{src:w})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"email",style:{borderRadius:"3px",fontSize:"12px",height:"1.8rem",width:"14rem",backgroundColor:"#FAFAFA",border:"0.5px solid lightgray",marginBottom:"0.5rem"},value:c,placeholder:"Email",onChange:function(e){i(e.target.value)}})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{style:{borderRadius:"3px",fontSize:"12px",height:"1.8rem",width:"14rem",backgroundColor:"#FAFAFA",border:"0.5px solid lightgray",marginBottom:"0.5rem"},type:"password",value:o,placeholder:"Password",onChange:function(e){j(e.target.value)}})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{style:{borderRadius:"3px",fontSize:"12px",height:"1.8rem",width:"14rem",backgroundColor:"#FAFAFA",border:"0.5px solid lightgray",marginBottom:"0.8rem"},type:"text",value:S,placeholder:"Full Name",onChange:function(e){U(e.target.value)}})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{style:{marginBottom:"0.9rem"},type:"file",accept:"image/*",onChange:function(e){var t,n=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0];null!=n&&Q(n)}})}),Object(O.jsx)("div",{onClick:z,children:Object(O.jsx)(I,{text:"Sign up"})}),Object(O.jsxs)("div",{style:{marginTop:"2rem"},children:["Have an account?",Object(O.jsx)(E.b,{to:"/login",style:{textDecoration:"none"},children:Object(O.jsx)("span",{style:{color:"#0095F6"},children:"Log in"})})]})]})})},G=n(92),X=n.n(G),Z=n(188),M=(n(138),n(187)),W=n(189);function H(e){return Object(O.jsxs)(W.a,{display:"flex",alignItems:"center",children:[Object(O.jsx)(W.a,{width:"40%",mr:1,children:Object(O.jsx)(M.a,Object(a.a)({variant:"determinate"},e))}),Object(O.jsx)(W.a,{minWidth:35,children:Object(O.jsx)(z.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var K=Object(N.a)({root:{width:"100%"}});function Y(){var e=K(),t=c.a.useState(10),n=Object(u.a)(t,2),r=n[0],i=n[1];return c.a.useEffect((function(){var e=setInterval((function(){i((function(e){return e>=100?10:e+10}))}),800);return function(){clearInterval(e)}}),[]),Object(O.jsx)("div",{className:e.root,children:Object(O.jsx)(H,{value:r})})}var _=n(93),$=n.n(_),ee=n(94),te=n.n(ee);Object(N.a)({root:{maxWidth:345},media:{height:140}});var ne=Object(N.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}}));function re(e){var t=ne(),n=Object(r.useState)(!1),c=Object(u.a)(n,2),i=c[0],s=c[1],a=Object(r.useState)(0),o=Object(u.a)(a,2),j=o[0],h=o[1];return i?Object(O.jsx)(Y,{value:j}):Object(O.jsxs)("div",{style:{marginTop:"7vh"},className:t.root,children:[Object(O.jsx)("input",{accept:"video/*",className:t.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(t){var n,r=null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.files[0];if(null!=r)try{var c=function(){var t=Object(d.a)(l.a.mark((function t(){var n,r,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!1),t.next=3,a.snapshot.ref.getDownloadURL();case 3:n=t.sent,console.log("video with url",n),r=e.user,c=e.uid,console.log(c),g.reels.doc(i).set({videoUrl:n,authorName:r.fullName,authorid:c,authorDPUrl:r.profileUrl,likes:[],comments:[],createdAt:f.firestore.FieldValue.serverTimestamp()}),o=[].concat(Object(Q.a)(r.reels),[i]),g.users.doc(c).update({reels:o});case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=X()();console.log("ruid-",i);var a=x.ref("/reels/"+i).put(r);a.on("state_changed",(function(e){s(!0);var t=e.bytesTransferred/e.totalBytes*100;h(t),console.log(j),console.log(t)}),(function(e){s(!1),console.log(e)}),c)}catch(o){}}}),Object(O.jsx)("label",{htmlFor:"contained-button-file",children:Object(O.jsx)(k.a,{variant:"contained",color:"primary",component:"span",children:"Upload"})})]})}function ce(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),c=n[0],i=n[1],a=Object(r.useState)(!1),o=Object(u.a)(a,2),j=(o[0],o[1],Object(r.useState)(0)),h=Object(u.a)(j,2),b=(h[0],h[1],Object(r.useContext)(p).currentUser),x=Object(r.useState)(""),f=Object(u.a)(x,2),m=f[0],v=f[1],y=Object(r.useState)(null),w=Object(u.a)(y,2),A=w[0],N=w[1],C=b.uid,S=e,U=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("hhhhh"+t),t.target.muted=!t.target.muted;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,c,i,s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById(t+"like"),r=parseInt(n.innerText.split(" ")[0]),console.log(r),e.next=5,document.getElementById(t+"heart");case 5:return c=e.sent,console.log(c),e.next=9,g.reels.doc(t).get();case 9:i=e.sent,s=i.data().likes,console.log(s),s.includes(C)&&0!=s.length?(a=s.filter((function(e){return e!=C})),g.reels.doc(t).update({likes:Object(Q.a)(a)}),c.style.color="lightgray",r--):(g.reels.doc(t).update({likes:[].concat(Object(Q.a)(s),[C])}),c.style.color="red",r++),n.innerText=r+" likes";case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.target),n=s.a.findDOMNode(t.target).parentNode.parentNode.parentNode.nextSibling,console.log(n),n&&(console.log("next exist"),n.scrollIntoView({behavior:"smooth"}),t.target.muted=!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){N(null)};function E(e){e.forEach((function(e){var t=e.target.children[0];t.play().then((function(){0==e.isIntersecting&&t.pause()}))}))}var T=function(e){v(e.target.value)},D=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,c,i,s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(""),console.log(t.target),e.next=4,t.target.parentNode.id;case 4:if(n=e.sent,console.log(n),!n){e.next=16;break}return e.next=9,g.reels.doc(n).get();case 9:r=e.sent,c=r.data().comments,i=S.user.profileUrl,s=S.user.fullName,a={name:s,comment:m,dpurl:i},console.log(c),g.reels.doc(n).update({comments:[].concat(Object(Q.a)(c),[a])});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,c,i,s,a,o,d,u,j,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.target.parentNode.id;case 2:return n=e.sent,e.next=5,g.users.doc(n).get();case 5:return r=e.sent,c=r.data().followers,console.log(c),e.next=10,g.users.doc(b.uid).get();case 10:if(i=e.sent,s=i.data().following,console.log(s),{userid:b.uid},console.log(c),c.includes(b.uid))for(a=c.filter((function(e){return e!=b.uid})),g.users.doc(n).update({followers:Object(Q.a)(a)}),o=s.filter((function(e){return e!=n})),g.users.doc(b.uid).update({following:Object(Q.a)(o)}),d=document.getElementsByClassName(n+"follow"),u=0;u<d.length;u++)d[u].innerText="follow";else for(g.users.doc(n).update({followers:[].concat(Object(Q.a)(c),[b.uid])}),g.users.doc(b.uid).update({following:[].concat(Object(Q.a)(s),[n])}),j=document.getElementsByClassName(n+"follow"),h=0;h<j.length;h++)j[h].innerText="unfollow";case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.reels.orderBy("createdAt","desc").get();case 2:t=e.sent,n=[],t.forEach((function(e){console.log(e.id);var t=e.data(),r={id:e.id,object:t};n.push(r)})),console.log(n),i(n),r=new IntersectionObserver(E,{root:null,threshold:"0.9"}),c=document.querySelectorAll(".video"),console.log(c),c.forEach((function(e){r.observe(e)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[]),Object(O.jsx)("div",{style:{backgroundColor:"#FAFAFA"},children:Object(O.jsx)("div",{className:"reels",style:{height:"90vh",boxShadow:"10px 5px 5px gray",overflow:"auto"},children:c.map((function(e){return Object(O.jsxs)("div",{className:"video-container",style:{},children:[Object(O.jsxs)("div",{className:"header",style:{alignItems:"center",display:"flex",margin:"0.6rem",fontFamily:"cursive"},children:[Object(O.jsx)("img",{style:{height:"30px",background:"transparent",objectFit:"contain",borderRadius:"50%",marginRight:"0.5rem"},src:e.object.authorDPUrl}),Object(O.jsx)("div",{style:{width:"50%"},children:e.object.authorName}),Object(O.jsx)("div",{style:{display:"flex",width:"50%",flexDirection:"row-reverse"},children:S.user.profileUrl&&S.user.profileUrl!=e.object.authorDPUrl?Object(O.jsx)(k.a,{id:e.object.authorid,className:e.object.authorid+"follow",variant:"contained",onClick:R,color:"primary",children:S.user.following.includes(e.object.authorid)?"unfollow":"follow"}):Object(O.jsx)(O.Fragment,{})})]}),Object(O.jsxs)("div",{style:{height:"90%",display:"flex",justifyContent:"center",borderTop:"0.25px solid lightgray"},children:[Object(O.jsx)("div",{className:"video",style:{height:"80%"},children:Object(O.jsx)("video",{style:{height:"90%",width:"100%"},src:e.object.videoUrl,id:e.id,onEnded:F,muted:"muted",onClick:U})}),Object(O.jsxs)("div",{style:{position:"absolute",bottom:"4rem",left:"2%"},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)($.a,{id:e.id+"heart",className:"heart",onClick:function(){B(e.id)},style:e.object.likes.includes(b.uid)?{color:"red"}:{color:"lightgray"}}),Object(O.jsx)(te.a,{className:"comment",color:"primary",onClick:function(){return t=e.id,void N(t);var t},style:{color:"lightgray",position:"absolute"}}),Object(O.jsx)(q.a,{maxWidth:"md",onClose:I,"aria-labelledby":"customized-dialog-title",open:A===e.id,children:Object(O.jsx)(J.a,{children:Object(O.jsxs)("div",{className:"modal",style:{display:"flex",height:"80vh",width:"60vw"},children:[Object(O.jsx)("div",{className:"video-containerr",style:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(O.jsx)("video",{controls:!0,src:e.object.videoUrl,style:{width:"90%",height:"100%"}})}),Object(O.jsxs)("div",{style:{width:"50%"},className:"comment-section",children:[Object(O.jsxs)("div",{className:"authordiv",style:{display:"flex",alignItems:"center",width:"100%",borderBottom:"1px solid lightgray"},children:[Object(O.jsx)("img",{style:{height:"4rem",background:"transparent",objectFit:"contain",borderRadius:"50%",marginRight:"3.4rem",margin:"1.2rem"},src:e.object.authorDPUrl}),Object(O.jsx)("div",{style:{width:"50%"},children:e.object.authorName})]}),Object(O.jsx)("div",{className:"commentss",style:{height:"65%",overflowY:"auto"},children:0==e.object.comments.length?Object(O.jsx)("div",{children:Object(O.jsx)("h2",{children:"No comments yet..."})}):e.object.comments.map((function(e){return Object(O.jsxs)("div",{className:"comment-div",style:{display:"flex",alignItems:"center"},children:[Object(O.jsx)("img",{style:{height:"2.3rem",background:"transparent",objectFit:"contain",borderRadius:"50%",marginRight:"3.4rem",margin:"1.2rem"},src:e.dpurl}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{style:{fontWeight:"bold",display:"inline-block"},children:e.name}),"\xa0\xa0",e.comment]})]})}))}),Object(O.jsxs)("div",{className:"comment-section",style:{width:"100%",display:"flex",alignItems:"center"},children:[Object(O.jsx)(Z.a,{onChange:T,value:m,style:{width:"75%"},label:"Add a Comment"}),Object(O.jsx)(k.a,{id:e.id,onClick:D,variant:"contained",children:"POST"})]})]})]})})})]}),Object(O.jsxs)("span",{id:e.id+"like",className:"likess",style:{marginRight:"1rem"},children:[e.object.likes.length," likes"]}),Object(O.jsxs)("span",{children:[e.object.comments.length," comments"]})]})]})]})}))})})}function ie(e){var t=e.user;return Object(O.jsxs)("div",{className:"mainheader",style:{height:"7vh",border:"1px solid lightgray",boxShadow:"10px 5px 5px lightgray",display:"flex",flexDirection:"row",alignItems:"center",position:"fixed",left:"0",right:"0",fontFamily:"cursive"},children:[Object(O.jsx)(E.b,{className:"instalogo",to:"/feed",children:Object(O.jsx)("img",{style:{height:"100%",background:"transparent",objectFit:"contain"},src:w})}),Object(O.jsxs)("div",{className:"secondaryHeader",children:[Object(O.jsxs)(E.b,{to:"/profile",style:{display:"flex",alignItems:"center",textDecoration:"none",color:"black"},children:[Object(O.jsx)("div",{style:{marginRight:"10px"},children:null===t||void 0===t?void 0:t.fullName}),Object(O.jsx)("img",{style:{height:"40px",borderRadius:"55%",marginRight:"15px"},src:null===t||void 0===t?void 0:t.profileUrl})]}),Object(O.jsx)("div",{onClick:function(e){f.auth().signOut()},className:"logout",children:"Log out"})]})]})}var se=function(){var e=Object(r.useContext)(p).currentUser,t=Object(r.useState)(null),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(!0),a=Object(u.a)(s,2),o=a[0],j=a[1];return Object(r.useEffect)(Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.users.doc(e.uid).get();case 2:n=t.sent,console.log("in feed: ",n.data()),i(n.data()),j(!1);case 6:case"end":return t.stop()}}),t)}))),[]),o?Object(O.jsx)("img",{src:y}):Object(O.jsxs)("div",{style:{overflow:"hidden",boxSizing:"border-box",margin:"0",height:"100vh"},children:[Object(O.jsx)(ie,{user:c}),Object(O.jsx)("div",{style:{display:"flex"},children:Object(O.jsx)(re,{user:c,uid:e.uid})}),Object(O.jsx)(ce,{user:c})]})},ae=n(20);function oe(e){var t=Object(r.useContext)(p).currentUser,n=e.abc;return Object(O.jsx)(ae.b,Object(a.a)(Object(a.a)({},e),{},{render:function(e){return t?Object(O.jsx)(n,Object(a.a)({},e)):Object(O.jsx)(ae.a,{to:"/login"})}}))}var le=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(v,{children:Object(O.jsxs)(ae.d,{children:[Object(O.jsx)(ae.b,{path:"/login",component:T}),Object(O.jsx)(ae.b,{path:"/signin",component:V}),Object(O.jsx)(oe,{path:"/feed",abc:se}),Object(O.jsx)(oe,{path:"/profile",abc:L}),Object(O.jsx)(ae.a,{path:"/",to:"/feed"})]})})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,194)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(E.a,{children:Object(O.jsx)(le,{})})}),document.getElementById("root")),de()}},[[139,1,2]]]);
//# sourceMappingURL=main.81b980c5.chunk.js.map